<?php
/**
 * This file is part of the Magebit Faq package.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magebit Faq
 * to newer versions in the future.
 *
 * @copyright Copyright (c) 2019 Magebit, Ltd. (https://magebit.com/)
 * @license   GNU General Public License ("GPL") v3.0
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
?>
<?php
$viewModel = $block->getViewModel();
?>
<script>
    function toggle(id) {
        var clicked = document.getElementById(id);
        if(!clicked.classList.contains("visible")) {
            document.getElementsByClassName('visible')[0].classList.remove('visible');
            clicked.classList.add('visible');
        }
    }
</script>
<div class="faq-list">
    <?php
    $visibleClass = ' visible';
    foreach ($viewModel->getQuestions() as $question): ?>
        <div class="faq-question" onclick="toggle('faq-<?= $question->getId() ?>')"><?= $question->getQuestion() ?></div>
        <div id="faq-<?= $question->getId() ?>" class="faq-answer<?= $visibleClass ?>"><?= $question->getAnswer() ?></div>
    <?php
        $visibleClass = '';
    endforeach; ?>
</div>
